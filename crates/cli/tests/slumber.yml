# Collection for CLI integration tests

name: CLI Tests

profiles:
  profile1:
    name: Profile 1
    default: true
    data:
      host: http://server
      username: username1
  profile2:
    name: Profile 2
    data:
      host: http://server
      username: username2

requests:
  getUser: !request
    method: GET
    url: "{{ host }}/users/{{ username }}"

  jsonBody: !request
    method: POST
    url: "{{ host }}/json"
    body: !json { "username": "{{ username }}", "name": "Frederick Smidgen" }

  chained: !request
    method: GET
    url: "{{ host }}/chained/{{ response('getUser', trigger='always') | jsonpath('$.username') }}"

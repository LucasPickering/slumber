# Collection for CLI integration tests

profiles:
  profile1:
    name: Profile 1
    default: true
    data:
      host: http://server
      username: username1
  profile2:
    name: Profile 2
    data:
      host: http://server
      username: username2

requests:
  getUser:
    type: request
    method: GET
    url: "{{ host }}/users/{{ username }}"

  jsonBody:
    type: request
    method: POST
    url: "{{ host }}/json"
    body:
      type: json
      data: { "username": "{{ username }}", "name": "Frederick Smidgen" }

  chained:
    type: request
    method: GET
    url: "{{ host }}/chained/{{ response('getUser', trigger='always') | jsonpath('$.username') }}"

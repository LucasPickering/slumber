<!--
Copied from https://github.com/rust-lang/mdBook/blob/v0.4.43/src/theme/index.hbs
Overridden to remove prev/next page buttons because they're big and useless
-->


<!DOCTYPE HTML>
<html lang="en" class="dark sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Templates - Slumber</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Slumber is a TUI (terminal user interface) HTTP client. Define, execute, and share configurable HTTP requests.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/pagetoc.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "coal" : "dark";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('dark')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Slumber</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/LucasPickering/slumber" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/LucasPickering/slumber/edit/master/docs/src/user_guide/templates/index.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="templates"><a class="header" href="#templates">Templates</a></h1>
<p>Templates enable dynamic request construction. Slumber's template language is relatively simple when compared to HTML templating languages such as Handlebars or Jinja. The goal is to be simple, intuitive, and unsurprising. Every value in a request (except for the HTTP method) is a template, meaning it can be computed dynamically.</p>
<h2 id="quick-start"><a class="header" href="#quick-start">Quick Start</a></h2>
<p>Slumber templates in 60 seconds or less:</p>
<ul>
<li>Double curly braces <code>{{...}}</code> denotes a dynamic value in a template</li>
<li>Literals:
<ul>
<li>Null: <code>null</code></li>
<li>Booleans: <code>true</code> and <code>false</code></li>
<li>Integers: <code>-3</code> or <code>1000</code></li>
<li>Floats: <code>-3.14</code>, <code>1000.0</code>, <code>3.14e2</code></li>
<li>String: <code>'hello'</code> or <code>"hello"</code> (single or double quotes)
<ul>
<li>Escape inner quotes with <code>\</code></li>
</ul>
</li>
<li>Bytes: <code>b'hello'</code> or <code>b"hello"</code></li>
<li>Array: <code>[1, "hello", [true, b"world"]]</code></li>
</ul>
</li>
<li>Profile fields: <code>host</code> (see <a href="../profiles.html">Profiles</a>)</li>
<li>Function calls: <code>g(f(), 1)</code>
<ul>
<li><a href="../../api/template_functions.html">See all available functions</a></li>
</ul>
</li>
<li>Pipes: <code>f() | g(1)</code>
<ul>
<li>Result of <code>f()</code> is passed as the <em>last</em> argument to <code>g</code></li>
<li><code>f() | g(1)</code> is equivalent to <code>g(1, f())</code></li>
</ul>
</li>
</ul>
<p>Put it all together and you can build collections like this:</p>
<pre><code class="language-python">{{ host }}/fish/{{ response('list_fish') | jsonpath('$[0].id') }}
</code></pre>
<p>If you still have questions, you can keep reading or <a href="./examples.html">skip to some examples</a>.</p>
<h2 id="yaml-syntax"><a class="header" href="#yaml-syntax">YAML Syntax</a></h2>
<p>Templates are defined as strings in your request collection YAML file. For example, here's a template for a request URL:</p>
<pre><code class="language-yaml">requests:
  list_fish:
    method: GET
    url: "{{ host }}/fish"
</code></pre>
<p>Most values in a request collection (e.g. URL, request body, etc.) are templates. <a href="../profiles.html#dynamic-profile-values">Even profile values are templates!</a> Map keys (e.g. recipe ID, profile ID) are <em>not</em> templates; they must be static strings.</p>
<blockquote>
<p><strong>A note on YAML string syntax</strong></p>
<p>One of the advantages (and disadvantages) of YAML is that it has a number of different string syntaxes. This enables you to customize your templates according to your specific needs around the behavior of whitespace and newlines. <strong>In most cases, you should just use <code>""</code> on all strings.</strong> See <a href="https://www.educative.io/answers/how-to-represent-strings-in-yaml">YAML's string syntaxes</a> and <a href="https://yaml-multiline.info/">yaml-multiline.info</a> for more info.</p>
</blockquote>
<p>Not all template are dynamic. Static strings are also valid templates and just render to themselves:</p>
<pre><code class="language-yaml">requests:
  list_fish:
    method: GET
    # This is a valid template
    url: "https://myfishes.fish/fish"
    # Numbers and booleans can also be templates!
    query:
      number_param: 3 # Parses as the template "3"
      bool_param: false # Parses as "false"
</code></pre>
<h2 id="escape-sequences"><a class="header" href="#escape-sequences">Escape Sequences</a></h2>
<p>In some scenarios you may want to use the <code>{{</code> sequence to represent those literal characters, rather than the start of a template key. To achieve this, you can escape the sequence with an underscore inside it, e.g. <code>{_{</code>. If you want the literal string <code>{_{</code>, then add an extra underscore: <code>{__{</code>.</p>
<div class="table-wrapper"><table><thead><tr><th>Template</th><th>Parses as</th></tr></thead><tbody>
<tr><td><code>{_{this is raw text}}</code></td><td><code>["{{this is raw text}}"]</code></td></tr>
<tr><td><code>{_{{field1}}</code></td><td><code>["{", field("field1")]</code></td></tr>
<tr><td><code>{__{{field1}}</code></td><td><code>["{__", field("field1")]</code></td></tr>
<tr><td><code>{_</code></td><td><code>["{_"]</code> (no escaping)</td></tr>
</tbody></table>
</div>
<h2 id="why"><a class="header" href="#why">Why?</a></h2>
<p>Why does Slumber have its own template language? Why not use Jinja/Handlebars/Tera/Liquid/etc?</p>
<ul>
<li>Rust integration. Not all template languages have a Rust interface that enables the flexibility that Slumber needs.</li>
<li>Support for lazy expressions. Some languages require all available values in template to be precomputed, which is incompatible with Slumber's dynamic data sources.</li>
<li>Binary values. Most template languages focus on generating strings and don't support binary output values. Binary values are necessary for Slumber because not all HTTP requests are strings. For example, loading an image from a file and uploading it to a server involves non-textual template values.</li>
<li>Simplicity. Most template languages are written for the purpose of building websites, which means generating HTML. This involves complex features such as conditionals and for loops. Slumber's needs are much more narrow. By simplifying the template language, it reduces the level of complexity available to users. This is a tradeoff: an easier learning curve, at the cost of less power.</li>
</ul>

                    </main>
                </div>
            </div>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/pagetoc.js"></script>


    </div>
    </body>
</html>

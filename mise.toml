[tasks.cli]
description = "Run a CLI command"
run = "RUST_LOG=slumber=${LOG:-DEBUG} cargo run --no-default-features --features cli -- $@"

[tasks.docs]
description = "Build and serve docs"
run = "mdbook serve docs/"

[tasks.favicon]
run = "magick -background transparent $MISE_PROJECT_ROOT/static/slumber.png -define icon:auto-resize=64 $MISE_PROJECT_ROOT/docs/theme/favicon.png"
sources = ["docs/theme/favicon.png"]

[env]
RUST_BACKTRACE = "1"

[tools]
"cargo:mdbook-pagetoc" = "0.2.0"
mdbook = "0.4"
vhs = "latest"
